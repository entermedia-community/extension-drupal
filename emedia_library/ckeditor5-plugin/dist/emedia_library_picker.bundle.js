/*! For license information please see emedia_library_picker.bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EMediaLibraryPicker=t():e.EMediaLibraryPicker=t()}(self,(()=>(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},57:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(601),r=n.n(i),o=n(314),s=n.n(o)()(r());s.push([e.id,"/*\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n",""]);const a=s},72:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var o={},s=[],a=0;a<e.length;a++){var c=e[a],l=i.base?c[0]+i.base:c[0],d=o[l]||0,h="".concat(l," ").concat(d);o[l]=d+1;var u=n(h),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(f);else{var p=r(f,i);i.byIndex=a,t.splice(a,0,{identifier:h,updater:p,references:1})}s.push(h)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=i(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var c=i(e,r),l=0;l<o.length;l++){var d=n(o[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},174:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(601),r=n.n(i),o=n(314),s=n.n(o)()(r());s.push([e.id,"/*\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",""]);const a=s},198:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(601),r=n.n(i),o=n(314),s=n.n(o)()(r());s.push([e.id,'/*\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n@define-mixin ck-dir $direction {\n\t[dir="$(direction)"] & {\n\t\t@mixin-content;\n\t}\n}\n',""]);const a=s},272:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(601),r=n.n(i),o=n(314),s=n.n(o)()(r());s.push([e.id,"/*\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n",""]);const a=s},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);i&&s[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},414:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(601),r=n.n(i),o=n(314),s=n.n(o)()(r());s.push([e.id,'/*\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n:root {\n\t/* where 7.5(px) is the font size of the evaluation badge label and 13(px) is the base font size. */\n\t--ck-evaluation-badge-font-size: calc(var(--ck-font-size-base) * 7.5 / 13);\n\t/* where 7.5(px) is the line height of the evaluation badge label and 13(px) is the base font size. */\n\t--ck-evaluation-badge-line-height: calc(var(--ck-font-size-base) * 7.5 / 13);\n\t/* where -0.2(px) is the letter spacing of the evaluation badge label and 13(px) is the base font size. */\n\t--ck-evaluation-badge-letter-spacing: calc(var(--ck-font-size-base) * -0.2 / 13);\n\t--ck-evaluation-badge-padding-vertical: 2px;\n\t--ck-evaluation-badge-padding-horizontal: 4px;\n\t--ck-evaluation-badge-text-color: hsl(0, 0%, 31%);\n\t--ck-evaluation-badge-border-radius: var(--ck-border-radius);\n\t--ck-evaluation-badge-background: hsl(0, 0%, 100%);\n\t--ck-evaluation-badge-border-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-balloon-panel.ck-evaluation-badge-balloon {\n\t--ck-border-radius: var(--ck-evaluation-badge-border-radius);\n\n\tbox-shadow: none;\n\tbackground: var(--ck-evaluation-badge-background);\n\tmin-height: unset;\n\tz-index: calc( var(--ck-z-panel) - 1 );\n\n\t& .ck.ck-evaluation-badge {\n\t\tline-height: var(--ck-evaluation-badge-line-height);\n\t\tpadding: var(--ck-evaluation-badge-padding-vertical) var(--ck-evaluation-badge-padding-horizontal);\n\n\t\t& .ck-evaluation-badge__label {\n\t\t\tdisplay: block;\n\t\t\tpadding: 0 2px;\n\t\t\tfont-size: var(--ck-evaluation-badge-font-size);\n\t\t\tletter-spacing: var(--ck-evaluation-badge-letter-spacing);\n\t\t\tfont-weight: bold;\n\t\t\tline-height: normal;\n\t\t\ttext-transform: uppercase;\n\t\t\tcolor: var(--ck-evaluation-badge-text-color);\n\t\t}\n\t}\n\n\t&[class*="position_inside"] {\n\t\tborder-color: transparent;\n\t}\n\n\t&[class*="position_border"] {\n\t\tborder: var(--ck-focus-ring);\n\t\tborder-color: var(--ck-evaluation-badge-border-color);\n\t}\n}\n\n',""]);const a=s},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},597:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(601),r=n.n(i),o=n(314),s=n.n(o),a=n(174),c=n(198),l=s()(r());l.i(a.A),l.i(c.A),l.push([e.id,"/*\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\n\t@mixin ck-dir ltr {\n\t\tjustify-content: left;\n\t}\n\n\t@mixin ck-dir rtl {\n\t\tjustify-content: right;\n\t}\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n",""]);const d=l},601:e=>{e.exports=function(e){return e[1]}},606:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(601),r=n.n(i),o=n(314),s=n.n(o)()(r());s.push([e.id,'/*\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n:root {\n\t/* where 7.5(px) is the font size of the powered by label and 13(px) is the base font size. */\n\t--ck-powered-by-font-size: calc(var(--ck-font-size-base) * 7.5 / 13);\n\t/* where 10(px) is the line height of the powered by label and 13(px) is the base font size. */\n\t--ck-powered-by-line-height: calc(var(--ck-font-size-base) * 10 / 13);\n\t/* where -0.2(px) is the letter spacing of the powered by label and 13(px) is the base font size. */\n\t--ck-powered-by-letter-spacing: calc(var(--ck-font-size-base) * -0.2 / 13);\n\t--ck-powered-by-padding-vertical: 2px;\n\t--ck-powered-by-padding-horizontal: 4px;\n\t--ck-powered-by-text-color: hsl(0, 0%, 31%);\n\t--ck-powered-by-border-radius: var(--ck-border-radius);\n\t--ck-powered-by-background: hsl(0, 0%, 100%);\n\t--ck-powered-by-border-color: var(--ck-color-focus-border);\n\n\t--ck-powered-by-svg-width: 53;\n\t--ck-powered-by-svg-height: 10;\n\t--ck-powered-by-icon-width: calc(var(--ck-font-size-base) * var(--ck-powered-by-svg-width) / 13);\n\t--ck-powered-by-icon-height: calc(var(--ck-font-size-base) * var(--ck-powered-by-svg-height) / 13);\n}\n\n.ck.ck-balloon-panel.ck-powered-by-balloon {\n\t--ck-border-radius: var(--ck-powered-by-border-radius);\n\n\tbox-shadow: none;\n\tbackground: var(--ck-powered-by-background);\n\tmin-height: unset;\n\tz-index: calc( var(--ck-z-panel) - 1 );\n\n\t& .ck.ck-powered-by {\n\t\tline-height: var(--ck-powered-by-line-height);\n\n\t\t& a {\n\t\t\tcursor: pointer;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\topacity: .66;\n\t\t\tfilter: grayscale(80%);\n\t\t\tline-height: var(--ck-powered-by-line-height);\n\t\t\tpadding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);\n\t\t}\n\n\t\t& .ck-powered-by__label {\n\t\t\tfont-size: var(--ck-powered-by-font-size);\n\t\t\tletter-spacing: var(--ck-powered-by-letter-spacing);\n\t\t\tpadding-left: 2px;\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-weight: bold;\n\t\t\tmargin-right: 4px;\n\t\t\tcursor: pointer;\n\t\t\tline-height: normal;\n\t\t\tcolor: var(--ck-powered-by-text-color);\n\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\tdisplay: block;\n\t\t\tcursor: pointer;\n\t\t\twidth: var(--ck-powered-by-icon-width);\n\t\t\theight: var(--ck-powered-by-icon-height);\n\t\t}\n\n\t\t&:hover {\n\t\t\t& a {\n\t\t\t\tfilter: grayscale(0%);\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[class*="position_inside"] {\n\t\tborder-color: transparent;\n\t}\n\n\t&[class*="position_border"] {\n\t\tborder: var(--ck-focus-ring);\n\t\tborder-color: var(--ck-powered-by-border-color);\n\t}\n}\n\n',""]);const a=s},647:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(601),r=n.n(i),o=n(314),s=n.n(o)()(r());s.push([e.id,"/*\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-panel: calc( var(--ck-z-default) + 999 );\n\t--ck-z-dialog: 9999;\n}\n",""]);const a=s},655:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(601),r=n.n(i),o=n(314),s=n.n(o)()(r());s.push([e.id,"/*\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",""]);const a=s},659:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},702:(e,t,n)=>{n.d(t,{A:()=>f});var i=n(601),r=n.n(i),o=n(314),s=n.n(o),a=n(57),c=n(647),l=n(272),d=n(606),h=n(414),u=s()(r());u.i(a.A),u.i(c.A),u.i(l.A),u.i(d.A),u.i(h.A),u.push([e.id,"/*\n * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options\n */\n",""]);const f=u},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var i={};let r;n.r(i),n.d(i,{default:()=>gt});try{r={window,document}}catch(e){r={window:{},document:{}}}const o=r;function s(){try{return navigator.userAgent.toLowerCase()}catch(e){return""}}const a=s(),c={isMac:l(a),isWindows:d(a),isGecko:h(a),isSafari:u(a),isiOS:f(a),isAndroid:p(a),isBlink:b(a),get isMediaForcedColors(){return!!o.window.matchMedia&&o.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!o.window.matchMedia&&o.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:g()}};function l(e){return e.indexOf("macintosh")>-1}function d(e){return e.indexOf("windows")>-1}function h(e){return!!e.match(/gecko\/\d+/)}function u(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}function f(e){return!!e.match(/iphone|ipad/i)||l(e)&&navigator.maxTouchPoints>0}function p(e){return e.indexOf("android")>-1}function b(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}function g(){let e=!1;try{e=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(e){}return e}class m{source;name;path;stop;off;return;constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}}}const v=new Array(256).fill("").map(((e,t)=>("0"+t.toString(16)).slice(-2)));function y(){const[e,t,n,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+v[255&e]+v[e>>8&255]+v[e>>16&255]+v[e>>24&255]+v[255&t]+v[t>>8&255]+v[t>>16&255]+v[t>>24&255]+v[255&n]+v[n>>8&255]+v[n>>16&255]+v[n>>24&255]+v[255&i]+v[i>>8&255]+v[i>>16&255]+v[i>>24&255]}const w={get(e="normal"){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function k(e,t){const n=w.get(t.priority);let i=0,r=e.length;for(;i<r;){const t=i+r>>1;w.get(e[t].priority)<n?r=t:i=t+1}e.splice(i,0,t)}class _ extends Error{context;data;constructor(e,t,n){super(function(e,t){const n=new WeakSet,i=t?` ${JSON.stringify(t,((e,t)=>{if("object"==typeof t&&null!==t){if(n.has(t))return`[object ${t.constructor.name}]`;n.add(t)}return t}))}`:"",r=function(e){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${e}`}(e);return e+i+r}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new _(e.message,t);throw n.stack=e.stack,n}}if(new Date(2025,4,14),globalThis.CKEDITOR_VERSION)throw new _("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION="45.1.0";const x=Symbol("listeningTo"),E=Symbol("emitterId"),T=Symbol("delegations"),C=A(Object);function A(e){return e?class extends e{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){let i=!1;this.listenTo(this,e,((e,...n)=>{i||(i=!0,e.off(),t.call(this,e,...n))}),n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n,i={}){let r,o;this[x]||(this[x]={});const s=this[x];L(e)||S(e);const a=L(e);(r=s[a])||(r=s[a]={emitter:e,callbacks:{}}),(o=r.callbacks[t])||(o=r.callbacks[t]=[]),o.push(n),function(e,t,n,i,r){t._addEventListener?t._addEventListener(n,i,r):e._addEventListener.call(t,n,i,r)}(this,e,t,n,i)}stopListening(e,t,n){const i=this[x];let r=e&&L(e);const o=i&&r?i[r]:void 0,s=o&&t?o.callbacks[t]:void 0;if(!(!i||e&&!o||t&&!s))if(n)P(this,e,t,n),-1!==s.indexOf(n)&&(1===s.length?delete o.callbacks[t]:P(this,e,t,n));else if(s){for(;n=s.pop();)P(this,e,t,n);delete o.callbacks[t]}else if(o){for(t in o.callbacks)this.stopListening(e,t);delete i[r]}else{for(r in i)this.stopListening(i[r].emitter);delete this[x]}}fire(e,...t){try{const n=e instanceof m?e:new m(this,e),i=n.name;let r=function(e,t){if(!e._events)return null;let n=t;do{const t=e._events[n];if(t&&t.callbacks&&t.callbacks.length)return t.callbacks;const i=n.lastIndexOf(":");n=i>-1?n.substring(0,i):""}while(n);return null}(this,i);if(n.path.push(this),r){r=r.slice();for(let e=0;e<r.length;e++){const o=r[e].callback;if(o.call(this,n,...t),n.off.called&&(delete n.off.called,this._removeEventListener(i,o)),n.stop.called)break}}const o=this[T];if(o){const e=o.get(i),r=o.get("*");e&&I(e,n,t),r&&I(r,n,t)}return n.return}catch(e){_.rethrowUnexpectedError(e,this)}}delegate(...e){return{to:(t,n)=>{this[T]||(this[T]=new Map),e.forEach((e=>{const i=this[T].get(e);i?i.set(t,n):this[T].set(e,new Map([[t,n]]))}))}}}stopDelegating(e,t){if(this[T])if(e)if(t){const n=this[T].get(e);n&&n.delete(t)}else this[T].delete(e);else this[T].clear()}_addEventListener(e,t,n){!function(e,t){const n=O(e);if(n[t])return;let i=t,r=null;const o=[];for(;""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},o.push(n[i]),r&&n[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){for(const e of o)e.callbacks=n[i].callbacks.slice();n[i].childEvents.push(r)}}(this,e);const i=j(this,e),r={callback:t,priority:w.get(n.priority)};for(const e of i)k(e,r)}_removeEventListener(e,t){const n=j(this,e);for(const e of n)for(let n=0;n<e.length;n++)e[n].callback==t&&(e.splice(n,1),n--)}}:C}function S(e,t){e[E]||(e[E]=t||y())}function L(e){return e[E]}function O(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function j(e,t){const n=O(e)[t];if(!n)return[];let i=[n.callbacks];for(let t=0;t<n.childEvents.length;t++){const r=j(e,n.childEvents[t]);i=i.concat(r)}return i}function I(e,t,n){for(let[i,r]of e){r?"function"==typeof r&&(r=r(t.name)):r=t.name;const e=new m(t.source,r);e.path=[...t.path],i.fire(e,...n)}}function P(e,t,n,i){t._removeEventListener?t._removeEventListener(n,i):e._removeEventListener.call(t,n,i)}function M(e){return null!==e&&("object"==typeof e||"function"==typeof e)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{A[e]=C.prototype[e]}));const D=Symbol("observableProperties"),N=Symbol("boundObservables"),z=Symbol("boundProperties"),F=Symbol("decoratedMethods"),V=Symbol("decoratedOriginal"),B=R(A());function R(e){return e?class extends e{set(e,t){if(M(e))return void Object.keys(e).forEach((t=>{this.set(t,e[t])}),this);K(this);const n=this[D];if(e in this&&!n.has(e))throw new _("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(t){const i=n.get(e);let r=this.fire(`set:${e}`,e,t,i);void 0===r&&(r=t),i===r&&n.has(e)||(n.set(e,r),this.fire(`change:${e}`,e,r,i))}}),this[e]=t}bind(...e){if(!e.length||!H(e))throw new _("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new _("observable-bind-duplicate-properties",this);K(this);const t=this[z];e.forEach((e=>{if(t.has(e))throw new _("observable-bind-rebind",this)}));const n=new Map;return e.forEach((e=>{const i={property:e,to:[]};t.set(e,i),n.set(e,i)})),{to:U,toMany:$,_observable:this,_bindProperties:e,_to:[],_bindings:n}}unbind(...e){if(!this[D])return;const t=this[z],n=this[N];if(e.length){if(!H(e))throw new _("observable-unbind-wrong-properties",this);e.forEach((e=>{const i=t.get(e);i&&(i.to.forEach((([e,t])=>{const r=n.get(e),o=r[t];o.delete(i),o.size||delete r[t],Object.keys(r).length||(n.delete(e),this.stopListening(e,"change"))})),t.delete(e))}))}else n.forEach(((e,t)=>{this.stopListening(t,"change")})),n.clear(),t.clear()}decorate(e){K(this);const t=this[e];if(!t)throw new _("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,((e,n)=>{e.return=t.apply(this,n)})),this[e]=function(...t){return this.fire(e,t)},this[e][V]=t,this[F]||(this[F]=[]),this[F].push(e)}stopListening(e,t,n){if(!e&&this[F]){for(const e of this[F])this[e]=this[e][V];delete this[F]}super.stopListening(e,t,n)}[D];[F];[z];[N]}:B}function K(e){e[D]||(Object.defineProperty(e,D,{value:new Map}),Object.defineProperty(e,N,{value:new Map}),Object.defineProperty(e,z,{value:new Map}))}function U(...e){const t=function(...e){if(!e.length)throw new _("observable-bind-to-parse-error",null);const t={to:[]};let n;return"function"==typeof e[e.length-1]&&(t.callback=e.pop()),e.forEach((e=>{if("string"==typeof e)n.properties.push(e);else{if("object"!=typeof e)throw new _("observable-bind-to-parse-error",null);n={observable:e,properties:[]},t.to.push(n)}})),t}(...e),n=Array.from(this._bindings.keys()),i=n.length;if(!t.callback&&t.to.length>1)throw new _("observable-bind-to-no-callback",this);if(i>1&&t.callback)throw new _("observable-bind-to-extra-callback",this);var r;t.to.forEach((e=>{if(e.properties.length&&e.properties.length!==i)throw new _("observable-bind-to-properties-length",this);e.properties.length||(e.properties=this._bindProperties)})),this._to=t.to,t.callback&&(this._bindings.get(n[0]).callback=t.callback),r=this._observable,this._to.forEach((e=>{const t=r[N];let n;t.get(e.observable)||r.listenTo(e.observable,"change",((i,o)=>{n=t.get(e.observable)[o],n&&n.forEach((e=>{W(r,e.property)}))}))})),function(e){let t;e._bindings.forEach(((n,i)=>{e._to.forEach((r=>{t=r.properties[n.callback?0:e._bindProperties.indexOf(i)],n.to.push([r.observable,t]),function(e,t,n,i){const r=e[N],o=r.get(n),s=o||{};s[i]||(s[i]=new Set),s[i].add(t),o||r.set(n,s)}(e._observable,n,r.observable,t)}))}))}(this),this._bindProperties.forEach((e=>{W(this._observable,e)}))}function $(e,t,n){if(this._bindings.size>1)throw new _("observable-bind-to-many-not-one-binding",this);this.to(...function(e,t){const n=e.map((e=>[e,t]));return Array.prototype.concat.apply([],n)}(e,t),n)}function H(e){return e.every((e=>"string"==typeof e))}function W(e,t){const n=e[z].get(t);let i;n.callback?i=n.callback.apply(e,n.to.map((e=>e[0][e[1]]))):(i=n.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(e,t)?e[t]=i:e.set(t,i)}function q(e){return!(!e||!e[Symbol.iterator])}function X(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}function J(e){const t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{R[e]=B.prototype[e]}));const G=Q(A());function Q(e){return e?class extends e{listenTo(e,t,n,i={}){if(X(e)||J(e)||e instanceof o.window.EventTarget){const r={capture:!!i.useCapture,passive:!!i.usePassive},o=this._getProxyEmitter(e,r)||new Y(e,r);this.listenTo(o,t,n,i)}else super.listenTo(e,t,n,i)}stopListening(e,t,n){if(X(e)||J(e)||e instanceof o.window.EventTarget){const i=this._getAllProxyEmitters(e);for(const e of i)this.stopListening(e,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(e,t){const n=e[x];return n&&n[t]?n[t].emitter:null}(this,Z(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((t=>this._getProxyEmitter(e,t))).filter((e=>!!e))}}:G}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{Q[e]=G.prototype[e]}));class Y extends(A()){_domNode;_options;constructor(e,t){super(),S(this,Z(e,t)),this._domNode=e,this._options=t}_domListeners;attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),A().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){A().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=t=>{this.fire(e,t)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function Z(e,t){let n=function(e){return e["data-ck-expando"]||(e["data-ck-expando"]=y())}(e);for(const e of Object.keys(t).sort())t[e]&&(n+="-"+e);return n}const ee={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},te={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},ne={37:"←",38:"↑",39:"→",40:"↓",9:"⇥",33:"Page Up",34:"Page Down"},ie=ae(),re=Object.fromEntries(Object.entries(ie).map((([e,t])=>{let n;return n=t in ne?ne[t]:e.charAt(0).toUpperCase()+e.slice(1),[t,n]})));function oe(e){let t;if("string"==typeof e){if(t=ie[e.toLowerCase()],!t)throw new _("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?ie.alt:0)+(e.ctrlKey?ie.ctrl:0)+(e.shiftKey?ie.shift:0)+(e.metaKey?ie.cmd:0);return t}function se(e,t){let n=function(e){return"string"==typeof e&&(e=function(e){return e.split("+").map((e=>e.trim()))}(e)),e.map((e=>"string"==typeof e?function(e){if(e.endsWith("!"))return oe(e.slice(0,-1));const t=oe(e);return(c.isMac||c.isiOS)&&t==ie.ctrl?ie.cmd:t}(e):e)).reduce(((e,t)=>t+e),0)}(e);const i=t?"Mac"===t:c.isMac||c.isiOS;return Object.entries(i?ee:te).reduce(((e,[t,i])=>(0!=(n&ie[t])&&(n&=~ie[t],e+=i),e)),"")+(n?re[n]:"")}function ae(){const e={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;return Object.assign(e,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),e}o.window.CKEDITOR_TRANSLATIONS||(o.window.CKEDITOR_TRANSLATIONS={});class ce extends(A()){_items;_itemMap;_idProperty;_bindToCollection;_bindToExternalToInternalMap;_bindToInternalToExternalMap;_skippedIndexesFromExternal;constructor(e={},t={}){super();const n=q(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const t of e)this._items.push(t),this._itemMap.set(this._getItemIdBeforeAdding(t),t)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new _("collection-add-item-invalid-index",this);let n=0;for(const i of e){const e=this._getItemIdBeforeAdding(i),r=t+n;this._items.splice(r,0,i),this._itemMap.set(e,i),this.fire("add",i,r),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new _("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t="string"==typeof e?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new _("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:e=>{this._setUpBindToBinding((t=>new e(t)))},using:e=>{"function"==typeof e?this._setUpBindToBinding(e):this._setUpBindToBinding((t=>t[e]))}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(n,i,r)=>{const o=t._bindToCollection==this,s=t._bindToInternalToExternalMap.get(i);if(o&&s)this._bindToExternalToInternalMap.set(i,s),this._bindToInternalToExternalMap.set(s,i);else{const n=e(i);if(!n)return void this._skippedIndexesFromExternal.push(r);let o=r;for(const e of this._skippedIndexesFromExternal)r>e&&o--;for(const e of t._skippedIndexesFromExternal)o>=e&&o++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,o);for(let e=0;e<t._skippedIndexesFromExternal.length;e++)o<=t._skippedIndexesFromExternal[e]&&t._skippedIndexesFromExternal[e]++}};for(const e of t)n(0,e,t.getIndex(e));this.listenTo(t,"add",n),this.listenTo(t,"remove",((e,t,n)=>{const i=this._bindToExternalToInternalMap.get(t);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((e,t)=>(n<t&&e.push(t-1),n>t&&e.push(t),e)),[])}))}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],"string"!=typeof n)throw new _("collection-add-invalid-id",this);if(this.get(n))throw new _("collection-add-item-already-exists",this)}else e[t]=n=y();return n}_remove(e){let t,n,i,r=!1;const o=this._idProperty;if("string"==typeof e?(n=e,i=this._itemMap.get(n),r=!i,i&&(t=this._items.indexOf(i))):"number"==typeof e?(t=e,i=this._items[t],r=!i,i&&(n=i[o])):(i=e,n=i[o],t=this._items.indexOf(i),r=-1==t||!this._itemMap.get(n)),r)throw new _("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(s),this.fire("remove",i,t),[i,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function le(e){return Array.isArray(e)?e:[e]}class de extends(R()){editor;_disableStack=new Set;constructor(e){super(),this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",he,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",he),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function he(e){e.return=!1,e.stop()}class ue extends ce{_parentElement;constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",((e,t,n)=>{this._renderViewIntoCollectionParent(t,n)})),this.on("remove",((e,t)=>{t.element&&this._parentElement&&t.element.remove()})),this._parentElement=null}destroy(){this.map((e=>e.destroy()))}setParent(e){this._parentElement=e;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...e){if(!e.length||!e.every((e=>"string"==typeof e)))throw new _("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const i of e)n.delegate(i).to(t);this.on("add",((n,i)=>{for(const n of e)i.delegate(n).to(t)})),this.on("remove",((n,i)=>{for(const n of e)i.stopDelegating(n,t)}))}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}const fe="[object String]",pe="[object Number]",be="[object Boolean]",ge="[object Arguments]";function me(e,t,n,i=new Map,r=void 0){const o=r?.(e,t,n,i);if(null!=o)return o;if(null==(s=e)||"object"!=typeof s&&"function"!=typeof s)return e;var s,a;if(i.has(e))return i.get(e);if(Array.isArray(e)){const t=new Array(e.length);i.set(e,t);for(let o=0;o<e.length;o++)t[o]=me(e[o],o,n,i,r);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;i.set(e,t);for(const[o,s]of e)t.set(o,me(s,o,n,i,r));return t}if(e instanceof Set){const t=new Set;i.set(e,t);for(const o of e)t.add(me(o,void 0,n,i,r));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(a=e,ArrayBuffer.isView(a)&&!(a instanceof DataView)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);i.set(e,t);for(let o=0;o<e.length;o++)t[o]=me(e[o],o,n,i,r);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return i.set(e,t),ve(t,e,n,i,r),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return i.set(e,t),ve(t,e,n,i,r),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return i.set(e,t),ve(t,e,n,i,r),t}if(e instanceof Error){const t=new e.constructor;return i.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,ve(t,e,n,i,r),t}if("object"==typeof e&&function(e){switch(function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e)){case ge:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case be:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case pe:case"[object Object]":case"[object RegExp]":case"[object Set]":case fe:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return i.set(e,t),ve(t,e,n,i,r),t}return e}function ve(e,t,n=e,i,r){const o=[...Object.keys(t),...(s=t,Object.getOwnPropertySymbols(s).filter((e=>Object.prototype.propertyIsEnumerable.call(s,e))))];var s;for(let s=0;s<o.length;s++){const a=o[s],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=me(t[a],a,n,i,r))}}class ye extends(A()){ns;tag;text;attributes;children;eventListeners;_isRendered;_revertData;constructor(e){super(),Object.assign(this,Le(Se(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new _("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)De(n)?yield n:Ne(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,i)=>new ke({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:i}),if:(n,i,r)=>new _e({observable:e,emitter:t,attribute:n,valueIfTrue:i,callback:r})}}static extend(e,t){if(e._isRendered)throw new _("template-extend-render",[this,e]);Pe(e,Le(Se(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new _("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),xe(this.text)?this._bindToObservable({schema:this.text,updater:Te(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const i in this.attributes){const r=t.getAttribute(i),o=this.attributes[i];n&&(n.attributes[i]=r);const s=Fe(o)?o[0].ns:null;if(xe(o)){const a=Fe(o)?o[0].value:o;n&&Ve(i)&&a.unshift(r),this._bindToObservable({schema:a,updater:Ce(t,i,s),data:e})}else if("style"==i&&"string"!=typeof o[0])this._renderStyleAttribute(o[0],e);else{n&&r&&Ve(i)&&o.unshift(r);const e=o.map((e=>e&&e.value||e)).reduce(((e,t)=>e.concat(t)),[]).reduce(je,"");Me(e)||t.setAttributeNS(s,i,e)}}}_renderStyleAttribute(e,t){const n=t.node;for(const i in e){const r=e[i];xe(r)?this._bindToObservable({schema:[r],updater:Ae(n,i),data:t}):n.style[i]=r}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,i=e.isApplying;let r=0;for(const o of this.children)if(ze(o)){if(!i){o.setParent(t);for(const e of o)n.appendChild(e.element)}}else if(De(o))i||(o.isRendered||o.render(),n.appendChild(o.element));else if(X(o))n.appendChild(o);else if(i){const t={children:[],bindings:[],attributes:{}};e.revertData.children.push(t),o._renderNode({intoFragment:!1,node:n.childNodes[r++],isApplying:!0,revertData:t})}else n.appendChild(o.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map((n=>{const[i,r]=t.split("@");return n.activateDomEventListener(i,r,e)}));e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const i=n.revertData;Ee(e,t,n);const r=e.filter((e=>!Me(e))).filter((e=>e.observable)).map((i=>i.activateAttributeListener(e,t,n)));i&&i.bindings.push(r)}_revertTemplateFromNode(e,t){for(const e of t.bindings)for(const t of e)t();if(t.text)return void(e.textContent=t.text);const n=e;for(const e in t.attributes){const i=t.attributes[e];null===i?n.removeAttribute(e):n.setAttribute(e,i)}for(let e=0;e<t.children.length;++e)this._revertTemplateFromNode(n.childNodes[e],t.children[e])}}class we{attribute;observable;emitter;callback;constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const i=()=>Ee(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class ke extends we{eventNameOrFunction;constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const i=(e,n)=>{t&&!n.target.matches(t)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,i),()=>{this.emitter.stopListening(n.node,e,i)}}}class _e extends we{valueIfTrue;constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Me(super.getValue(e))&&(this.valueIfTrue||!0)}}function xe(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(xe):e instanceof we)}function Ee(e,t,{node:n}){const i=function(e,t){return e.map((e=>e instanceof we?e.getValue(t):e))}(e,n);let r;r=1==e.length&&e[0]instanceof _e?i[0]:i.reduce(je,""),Me(r)?t.remove():t.set(r)}function Te(e){return{set(t){e.textContent=t},remove(){e.textContent=""}}}function Ce(e,t,n){return{set(i){e.setAttributeNS(n,t,i)},remove(){e.removeAttributeNS(n,t)}}}function Ae(e,t){return{set(n){e.style[t]=n},remove(){e.style[t]=null}}}function Se(e){return n=e=>{if(e&&(e instanceof we||Ne(e)||De(e)||ze(e)))return e},function(e,t){return me(e,void 0,e,new Map,t)}(t=e,((e,i,r,o)=>{const s=n?.(e,i,r,o);if(null!=s)return s;if("object"==typeof t)switch(Object.prototype.toString.call(t)){case pe:case fe:case be:{const e=new t.constructor(t?.valueOf());return ve(e,t),e}case ge:{const e={};return ve(e,t),e.length=t.length,e[Symbol.iterator]=t[Symbol.iterator],e}default:return}}));var t,n}function Le(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){e.text=le(e.text)}(e),e.on&&(e.eventListeners=function(e){for(const t in e)Oe(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(const t in e)e[t].value&&(e[t].value=le(e[t].value)),Oe(e,t)}(e.attributes);const t=[];if(e.children)if(ze(e.children))t.push(e.children);else for(const n of e.children)Ne(n)||De(n)||X(n)?t.push(n):t.push(new ye(n));e.children=t}return e}function Oe(e,t){e[t]=le(e[t])}function je(e,t){return Me(t)?e:Me(e)?t:`${e} ${t}`}function Ie(e,t){for(const n in t)e[n]?e[n].push(...t[n]):e[n]=t[n]}function Pe(e,t){if(t.attributes&&(e.attributes||(e.attributes={}),Ie(e.attributes,t.attributes)),t.eventListeners&&(e.eventListeners||(e.eventListeners={}),Ie(e.eventListeners,t.eventListeners)),t.text&&e.text.push(...t.text),t.children&&t.children.length){if(e.children.length!=t.children.length)throw new _("ui-template-extend-children-mismatch",e);let n=0;for(const i of t.children)Pe(e.children[n++],i)}}function Me(e){return!e&&0!==e}function De(e){return e instanceof et}function Ne(e){return e instanceof ye}function ze(e){return e instanceof ue}function Fe(e){return M(e[0])&&e[0].ns}function Ve(e){return"class"==e||"style"==e}var Be=n(72),Re=n.n(Be),Ke=n(825),Ue=n.n(Ke),$e=n(659),He=n.n($e),We=n(56),qe=n.n(We),Xe=n(540),Je=n.n(Xe),Ge=n(113),Qe=n.n(Ge),Ye=n(702),Ze={};Ze.styleTagTransform=Qe(),Ze.setAttributes=qe(),Ze.insert=He().bind(null,"head"),Ze.domAPI=Ue(),Ze.insertStyleElement=Je(),Re()(Ye.A,Ze),Ye.A&&Ye.A.locals&&Ye.A.locals;class et extends(Q(R())){element;isRendered;locale;t;template;_viewCollections;_unboundChildren;_bindTemplate;constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ce,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((t,n)=>{n.locale=e,n.t=e&&e.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ye.bind(this,this)}createCollection(e){const t=new ue(e);return this._viewCollections.add(t),t}registerChild(e){q(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){q(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new ye(e)}extendTemplate(e){ye.extend(this.template,e)}render(){if(this.isRendered)throw new _("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((e=>e.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}var tt=n(655),nt={};nt.styleTagTransform=Qe(),nt.setAttributes=qe(),nt.insert=He().bind(null,"head"),nt.domAPI=Ue(),nt.insertStyleElement=Je(),Re()(tt.A,nt),tt.A&&tt.A.locals&&tt.A.locals;class it extends et{static presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",(e=>!e)),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg");if(!e)throw new _("ui-iconview-invalid-svg",this);const t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:t,value:n}of Array.from(e.attributes))it.presentationalAttributeNames.includes(t)&&this.element.setAttribute(t,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((e=>{e.style.fill=this.fillColor}))}}const rt=it;class ot extends et{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var st=n(597),at={};at.styleTagTransform=Qe(),at.setAttributes=qe(),at.insert=He().bind(null,"head"),at.domAPI=Ue(),at.insertStyleElement=Je(),Re()(st.A,at),st.A&&st.A.locals&&st.A.locals;class ct extends et{children;labelView;iconView;keystrokeView;_focusDelayed=null;constructor(e,t=new ot){super(e);const n=this.bindTemplate,i=y();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${i}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new rt,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.iconView.bind("content").to(this,"icon"),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const r={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",(e=>!e)),n.if("isVisible","ck-hidden",(e=>!e)),n.to("isOn",(e=>e?"ck-on":"ck-off")),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",(e=>e||"button")),tabindex:n.to("tabindex"),"aria-checked":n.to("_ariaChecked"),"aria-pressed":n.to("_ariaPressed"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,(e=>!e)),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to((e=>{this.isEnabled?this.fire("execute"):e.preventDefault()}))}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",((e,t,n)=>!(!t||lt(n))&&String(!!e))),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",((e,t,n)=>!(!t||!lt(n))&&String(!!e))),c.isSafari&&(this._focusDelayed||(this._focusDelayed=function(e){let t;function n(...i){n.cancel(),t=setTimeout((()=>e(...i)),0)}return n.cancel=()=>{clearTimeout(t)},n}((()=>this.focus()))),r.on.mousedown=n.to((()=>{this._focusDelayed()})),r.on.mouseup=n.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(r)}render(){super.render(),this.icon&&this.children.add(this.iconView),this.on("change:icon",((e,t,n,i)=>{n&&!i?this.children.add(this.iconView,0):!n&&i&&this.children.remove(this.iconView)})),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new et;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(e=>se(e)))}]}),e}_getTooltipString(e,t,n){return e?"string"==typeof e?e:(n&&(n=se(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}function lt(e){switch(e){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function ht(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ut(i.key),i)}}function ut(e){var t=function(e){if("object"!=dt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dt(t)?t:t+""}function ft(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ft=function(){return!!e})()}function pt(e){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pt(e)}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}var gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=pt(t),function(e,t){if(t&&("object"==dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ft()?Reflect.construct(t,n||[],pt(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(t,e),n=t,r=[{key:"pluginName",get:function(){return"EMediaLibraryPicker"}}],(i=[{key:"init",value:function(){var e=this.editor;e.ui.componentFactory.add("emediaLibraryPicker",(function(t){var n=new ct(t);return n.set({label:"Insert from Media Library",tooltip:!0,withText:!0}),n.on("execute",(function(){var t=document.createElement("iframe");t.src="/emedia-picker-ui",t.style.position="fixed",t.style.top="10%",t.style.left="10%",t.style.width="80%",t.style.height="80%",t.style.zIndex="10000",t.style.border="2px solid #000",t.id="emedia-picker-iframe",document.body.appendChild(t);var n=function(i){if(i.origin===window.location.origin){var r=i.data.imageUrl;if(r){var o='<img src="'.concat(r,'" alt="Media">');e.model.change((function(t){var n=e.data.processor.toView(o),i=e.data.toModel(n);e.model.insertContent(i)})),t.remove(),window.removeEventListener("message",n)}}};window.addEventListener("message",n)})),n}))}}])&&ht(n.prototype,i),r&&ht(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(de);return i})()));